import{_ as S}from"./AppLayout-9n7Ga_TU.js";import{C as k,b as $,L as C,P as L,e as E,c as O,p as T,a as j,f as B}from"./index-CBKWzqxc.js";import{d as h,c as D,w as b,o,a as e,b as A,u as d,e as l,h as y,F as x,t as p,q as F}from"./app-Cr8VFrN5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"py-12"},N={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},I={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-6"},P={class:"h-96"},U={class:"mt-8 overflow-x-auto"},V={class:"min-w-full divide-y divide-gray-200"},q={class:"bg-white divide-y divide-gray-200"},z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},R={class:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900 text-right"},K={__name:"Trends",props:{trends:Object},setup(u){k.register($,C,L,E,O,T,j);const g=u,c=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),m=Array.from(new Set(Object.values(g.trends).flatMap(r=>r.map(t=>`${t.year}-${String(t.month).padStart(2,"0")}`)))).sort(),w=h({labels:m,datasets:Object.entries(g.trends).map(([r,t])=>{const a=t[0].category;return{label:a.name,data:m.map(s=>{const n=t.find(i=>`${i.year}-${String(i.month).padStart(2,"0")}`===s);return n?n.total:0}),borderColor:a.color,backgroundColor:a.color,tension:.1}})}),_=h({responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{callback:function(r){return c.format(r)}}}},plugins:{tooltip:{callbacks:{label:function(r){return`${r.dataset.label}: ${c.format(r.raw)}`}}}}}),v=r=>Object.values(g.trends).reduce((t,a)=>{const s=a.find(n=>`${n.year}-${String(n.month).padStart(2,"0")}`===r);return t+((s==null?void 0:s.total)||0)},0);return(r,t)=>(o(),D(S,{title:"Expense Trends"},{header:b(()=>t[0]||(t[0]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Expense Trends ",-1)])),default:b(()=>[e("div",M,[e("div",N,[e("div",I,[e("div",P,[A(d(B),{data:w.value,options:_.value},null,8,["data","options"])]),e("div",U,[e("table",V,[e("thead",null,[e("tr",null,[t[1]||(t[1]=e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Month",-1)),(o(!0),l(x,null,y(u.trends,(a,s)=>(o(),l("th",{key:s,class:"px-6 py-3 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},p(a[0].category.name),1))),128)),t[2]||(t[2]=e("th",{class:"px-6 py-3 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total",-1))])]),e("tbody",q,[(o(!0),l(x,null,y(d(m),a=>(o(),l("tr",{key:a},[e("td",z,p(new Date(a+"-01").toLocaleString("default",{month:"long",year:"numeric"})),1),(o(!0),l(x,null,y(u.trends,(s,n)=>{var i;return o(),l("td",{key:n,class:"px-6 py-4 whitespace-nowrap text-sm text-right",style:F({color:s[0].category.color})},p(d(c).format(((i=s.find(f=>`${f.year}-${String(f.month).padStart(2,"0")}`===a))==null?void 0:i.total)||0)),5)}),128)),e("td",R,p(d(c).format(v(a))),1)]))),128))])])])])])])]),_:1}))}};export{K as default};
